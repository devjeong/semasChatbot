# 소진공 AI 챗봇 사용자 가이드

<p align="center">
  <img src="src/main/resources/META-INF/pluginIcon.svg" alt="Semas Chatbot Icon" width="64" height="64">
</p>

<p align="center">
  <strong>🚀 똑똑한 AI와 함께 더 빠르고 효율적인 코딩을 시작하세요!</strong>
</p>

---

## 📖 이 가이드는 누구를 위한 것인가요?

- ✅ **Java/Kotlin 개발자**가 AI의 도움을 받고 싶을 때
- ✅ **코드 리뷰**를 AI에게 받고 싶을 때  
- ✅ **리팩토링**을 자동화하고 싶을 때
- ✅ **코딩 생산성**을 향상시키고 싶을 때
- ✅ **안전한 로컬 AI**를 사용하고 싶을 때

---

## 🎯 5분 빠른 시작 가이드

### Step 1: 플러그인 열기
1. IntelliJ IDEA 우측 사이드바에서 **"semasChatbot"** 아이콘 클릭
2. 챗봇 창이 열리면서 "안녕하세요! 소진공 AI 챗봇입니다" 메시지 확인

### Step 2: 첫 번째 질문하기
```
🗣️ 채팅창에 입력: "안녕하세요! 어떤 도움을 받을 수 있나요?"
```

### Step 3: 코드 분석해보기
1. 에디터에서 코드 일부분 선택
2. 우클릭 → **"Send Selection to Chat"** 클릭
3. 채팅창에 "이 코드는 무엇을 하는 건가요?" 입력

🎉 **축하합니다!** 이제 AI 코딩 어시스턴트와 함께 개발할 준비가 완료되었습니다.

---

## 🎨 UI 둘러보기

### 챗봇 창 구성 요소

```
┌─────────────────────────────────────────┐
│ [Prompt] [전체 파일 분석]  ← 상단 버튼들  │
├─────────────────────────────────────────┤
│ 💬 나: 이 함수를 개선해주세요             │
│                                         │
│ 🤖 소진공: 다음과 같이 개선할 수         │
│     있습니다...                         │
│                                         │ ← 대화 영역
│ 💬 나: 좋네요! 적용해주세요              │
│                                         │
│ 🤖 소진공: diff 창에서 확인해주세요      │
├─────────────────────────────────────────┤
│ 📁 선택된 파일: UserService.kt (127줄)   │ ← 파일 정보
├─────────────────────────────────────────┤
│ ┌─────────────────────────────────────┐ │
│ │ 여기에 메시지를 입력하세요...        │ │ ← 입력창
│ └─────────────────────────────────────┘ │
│ [Send(Ctrl+Enter)] [Reset]              │ ← 하단 버튼들
└─────────────────────────────────────────┘
```

### 버튼 설명
- **Prompt**: AI의 성격과 역할을 변경할 수 있습니다
- **전체 파일 분석**: 현재 파일 전체를 AI가 이해하도록 설정
- **Send**: 메시지 전송 (Ctrl+Enter로도 가능)
- **Reset**: 대화 기록 초기화

---

## 💡 스마트 사용법

### 🔍 코드 분석 요청하기

#### **방법 1: 부분 코드 선택**
```java
// 예시: 이 메서드를 선택하고
public User findUserById(Long id) {
    return userRepository.findById(id).orElse(null);
}
```
1. 코드 선택 → 우클릭 → "Send Selection to Chat"
2. **추천 질문들:**
   ```
   "이 코드에 문제가 있나요?"
   "성능을 개선할 방법이 있나요?"
   "예외 처리를 추가해주세요"
   "이 코드를 설명해주세요"
   ```

#### **방법 2: 전체 파일 분석**
1. **"전체 파일 분석"** 버튼 클릭
2. **추천 질문들:**
   ```
   "이 클래스의 구조를 개선해주세요"
   "SOLID 원칙에 맞게 리팩토링해주세요"
   "테스트 코드를 만들어주세요"
   "주석을 추가해주세요"
   ```

### 🛠️ 코드 수정 요청하기

#### **간단한 수정**
```
✅ 좋은 예시:
"이 메서드에 null 체크를 추가해주세요"
"변수명을 더 명확하게 바꿔주세요"
"주석을 영어로 번역해주세요"

❌ 애매한 예시:
"이거 고쳐주세요"
"더 좋게 만들어주세요"
```

#### **복잡한 리팩토링**
```
✅ 좋은 예시:
"이 전체 클래스를 Builder 패턴으로 변경해주세요"
"Spring Boot 스타일로 전체 파일을 리팩토링해주세요"
"이 파일의 모든 메서드에 JavaDoc을 추가해주세요"

💡 팁: "전체", "모든", "파일" 등의 키워드를 사용하면 
      전체 파일 수정 모드로 작동합니다!
```

### ⚡ Diff 창 활용하기

코드 수정을 요청하면 **Diff 창**이 나타납니다:

```
┌─────────────────────────────────────────────┐
│ 코드 변경 제안: UserService.kt              │
├─────────────────┬───────────────────────────┤
│ 🔴 Original     │ 🟢 Modified               │
│                 │                           │
│ return repo     │ if (id == null) {         │
│   .findById(id) │   throw new IllegalArgu-  │
│   .orElse(null);│   mentException("ID가    │
│                 │   null입니다");           │
│                 │ }                         │
│                 │ return repo.findById(id)  │
│                 │   .orElseThrow(() ->      │
│                 │   new UserNotFound-       │
│                 │   Exception("사용자 없음"));│
├─────────────────┴───────────────────────────┤
│ [✅ 적용] [❌ 거절] [취소]                    │
└─────────────────────────────────────────────┘
```

**버튼 기능:**
- **✅ 적용**: 변경사항을 코드에 반영
- **❌ 거절**: 변경사항을 취소하고 원본 유지  
- **취소**: 그냥 창 닫기

---

## 🎯 실전 사용 시나리오

### 📋 시나리오 1: 코드 리뷰 받기

**상황**: 내가 작성한 코드에 문제가 없는지 확인하고 싶다.

```java
// 문제가 있을 수 있는 코드
@Service
public class UserService {
    @Autowired
    private UserRepository userRepository;
    
    public User createUser(String name, String email) {
        User user = new User();
        user.setName(name);
        user.setEmail(email);
        return userRepository.save(user);
    }
}
```

**🔍 Step-by-step:**
1. 클래스 전체 선택 → "Send Selection to Chat"
2. 질문: **"이 코드를 리뷰해주세요. 개선점이 있나요?"**
3. AI 답변 예시:
   ```
   이 코드에서 발견된 개선점들:
   1. 입력 검증이 없습니다 (name, email null 체크)
   2. 이메일 중복 검사가 필요합니다
   3. @Autowired 대신 생성자 주입을 권장합니다
   4. 예외 처리가 부족합니다
   ```
4. 개선 요청: **"이 문제들을 수정해주세요"**
5. Diff 창에서 개선된 코드 확인 후 적용

### 📋 시나리오 2: 레거시 코드 현대화

**상황**: 오래된 Java 코드를 최신 스타일로 바꾸고 싶다.

```java
// 오래된 스타일의 코드
public class DataProcessor {
    private List<String> data;
    
    public DataProcessor() {
        data = new ArrayList<String>();
    }
    
    public void processData() {
        for (int i = 0; i < data.size(); i++) {
            String item = data.get(i);
            if (item != null && !item.equals("")) {
                System.out.println("Processing: " + item);
            }
        }
    }
}
```

**🔄 Step-by-step:**
1. "전체 파일 분석" 버튼 클릭
2. 요청: **"이 전체 파일을 Java 8+ 스타일로 현대화해주세요"**
3. AI가 Stream API, 람다식, var 키워드 등을 활용한 현대적인 코드로 변환
4. Diff 창에서 Before/After 비교 후 적용

### 📋 시나리오 3: 테스트 코드 자동 생성

**상황**: 비즈니스 로직에 대한 단위 테스트가 필요하다.

```java
public class Calculator {
    public int add(int a, int b) {
        return a + b;
    }
    
    public double divide(double a, double b) {
        if (b == 0) {
            throw new IllegalArgumentException("0으로 나눌 수 없습니다");
        }
        return a / b;
    }
}
```

**🧪 Step-by-step:**
1. Calculator 클래스 선택 → "Send Selection to Chat"
2. 요청: **"이 클래스에 대한 JUnit 5 테스트를 만들어주세요"**
3. AI가 다양한 테스트 케이스 (정상 케이스, 예외 케이스, 경계값) 포함한 테스트 클래스 생성
4. 새 파일로 저장하거나 기존 테스트 파일에 추가

### 📋 시나리오 4: 디자인 패턴 적용

**상황**: 복잡한 객체 생성 로직을 Builder 패턴으로 바꾸고 싶다.

```java
public class User {
    private String name;
    private String email;
    private int age;
    private String address;
    
    public User(String name, String email, int age, String address) {
        this.name = name;
        this.email = email;
        this.age = age;
        this.address = address;
    }
    
    // getters and setters...
}
```

**🏗️ Step-by-step:**
1. User 클래스 선택 → "Send Selection to Chat"
2. 요청: **"이 클래스를 Builder 패턴으로 바꿔주세요"**
3. AI가 Builder 내부 클래스와 필요한 메서드들을 자동 생성
4. 사용 예시도 함께 제공받을 수 있음

---

## 🎨 고급 활용 팁

### 💬 효과적인 질문 방법

#### **🟢 좋은 질문 예시**
```
✅ "이 메서드의 시간 복잡도를 분석해주세요"
✅ "Spring Security를 적용해주세요"
✅ "이 코드에 로깅을 추가해주세요"
✅ "데이터베이스 연결 부분을 개선해주세요"
✅ "이 전체 파일을 Clean Code 원칙에 맞게 리팩토링해주세요"
```

#### **🔴 피해야 할 질문 예시**
```
❌ "이거 뭐야?"
❌ "고쳐줘"
❌ "더 좋게"
❌ "문제 있어?"
```

### 🔧 맞춤형 프롬프트 설정

**"Prompt" 버튼을 클릭하여 AI의 역할을 변경할 수 있습니다:**

```
🎭 시니어 개발자 모드:
"당신은 20년 경력의 시니어 Java 개발자입니다. 
코드 리뷰 시 성능, 보안, 유지보수성을 중점적으로 검토해주세요."

📚 코드 교육자 모드:
"당신은 친절한 프로그래밍 선생님입니다. 
초보자가 이해하기 쉽게 단계별로 설명해주세요."

🚀 성능 최적화 전문가 모드:
"당신은 성능 최적화 전문가입니다. 
메모리 사용량, 실행 속도, 자원 효율성 관점에서 분석해주세요."
```

### ⚡ 단축키 활용

```
키보드 단축키:
- Ctrl + Enter: 메시지 전송
- 코드 선택 후 우클릭: 빠른 컨텍스트 전송
```

### 📊 토큰 절약 팁

차분 기반 시스템으로 토큰을 90% 절약할 수 있지만, 더 효율적으로 사용하려면:

```
💡 효율적인 요청:
✅ "15번째 줄의 if문을 개선해주세요"
✅ "createUser 메서드만 리팩토링해주세요"
✅ "import 문을 정리해주세요"

💸 비효율적인 요청:
❌ "전체 프로젝트를 분석해주세요" (너무 큼)
❌ "이 파일과 저 파일을 비교해주세요" (범위가 애매)
```

---

## 🚨 자주 발생하는 문제와 해결법

### ❓ "로딩 중..." 표시가 사라지지 않아요

**원인**: LM Studio 서버 연결 문제
**해결법**:
1. LM Studio가 실행 중인지 확인
2. 서버 주소가 올바른지 확인 (`http://localhost:1234`)
3. 방화벽 설정 확인

### ❓ AI 응답이 이상해요

**원인**: 프롬프트나 컨텍스트 문제
**해결법**:
1. "Reset" 버튼으로 대화 초기화
2. 더 구체적이고 명확한 질문하기
3. "Prompt" 버튼으로 AI 역할 재설정

### ❓ 코드 적용이 안 돼요

**원인**: 파일이 읽기 전용이거나 충돌
**해결법**:
1. 파일이 편집 가능한 상태인지 확인
2. 다른 작업 중인 변경사항 저장 후 재시도
3. IDE 재시작

### ❓ 한국어 응답을 받고 싶어요

**해결법**:
1. "Prompt" 버튼 클릭
2. 시스템 메시지에 "항상 한국어로 답변해주세요" 추가
3. 질문할 때도 한국어로 입력

---

## 🎯 사용 사례별 체크리스트

### ✅ 코드 리뷰를 받을 때
- [ ] 코드 선택 후 컨텍스트 설정
- [ ] "이 코드를 리뷰해주세요" 요청
- [ ] 구체적인 개선 요청
- [ ] Diff 창에서 변경사항 검토
- [ ] 적용 전 백업 확인

### ✅ 리팩토링할 때  
- [ ] "전체 파일 분석" 실행
- [ ] 명확한 리팩토링 목표 제시
- [ ] 단계별로 진행 (한 번에 너무 많은 변경 X)
- [ ] 테스트 코드 확인
- [ ] 변경 후 기능 테스트

### ✅ 학습할 때
- [ ] 이해하고 싶은 코드 선택
- [ ] "이 코드를 설명해주세요" 요청
- [ ] 추가 질문으로 깊이 이해
- [ ] 비슷한 예시 요청
- [ ] 실습 코드 작성

---

## 🎉 실습 미션

### 🏃‍♂️ 초급 미션 (5분)
1. 간단한 Java 메서드 하나 선택
2. AI에게 코드 설명 요청
3. 주석 추가 요청
4. Diff 창에서 적용

### 🚴‍♂️ 중급 미션 (15분)
1. 클래스 하나 전체 선택
2. 코드 리뷰 요청
3. 개선점 수정 요청
4. 테스트 코드 생성 요청

### 🏃‍♂️ 고급 미션 (30분)
1. "전체 파일 분석" 실행
2. 특정 디자인 패턴 적용 요청
3. 성능 최적화 요청
4. 문서화 추가

---

## 🔗 추가 리소스

### 📚 참고 문서
- [공식 README](README.md): 기술적 세부사항
- [IntelliJ IDEA 플러그인 가이드](https://plugins.jetbrains.com/docs/intellij/)
- [LM Studio 설정 가이드](https://lmstudio.ai/docs)

### 🆘 도움 요청
- GitHub Issues: 버그 신고
- 팀 슬랙: 실시간 도움
- 사내 위키: 사용 사례 공유

---

<p align="center">
  <strong>🎯 스마트한 코딩의 시작, 소진공 AI 챗봇과 함께하세요!</strong>
</p>

<p align="center">
  💡 <strong>Tip:</strong> 이 가이드를 북마크해두고 필요할 때마다 참고하세요!
</p>

---

*Last updated: 2025년 1월*  
*Version: 0.0.5* 